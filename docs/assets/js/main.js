"use strict";const listResult=document.querySelector(".list__results"),button=document.querySelector(".btn"),listFavorites=[],handleButton=()=>{search(document.querySelector(".input__name").value)};function search(e){listResult.innerHTML="",fetch("http://api.tvmaze.com/search/shows?q="+e).then(function(e){return e.json()}).then(e=>{draw(e)})}function draw(e){for(const t of e)console.log(t.show.id),console.log(listFavorites.includes(t.show.id)),t.show.image?listResult.innerHTML+=`<li class="list__element" id="${t.show.id}">\n      <span class="heart">❤︎</span>\n      <h2 class="serie__title">${t.show.name}</h2>\n      <img class="serie__image" src="${t.show.image.medium}" alt="${t.show.name}">\n    </li>`:listResult.innerHTML+=`<li class="list__element" id="${t.show.id}">\n      <span class="heart">❤︎</span>\n      <h2 class="serie__title">${t.show.name}</h2>\n      <img class="serie__image" src="https://via.placeholder.com/210x295/cccccc/666666/?text=TV" alt="${t.show.name}">\n    </li>`;loveListener()}function loveListener(){const e=document.querySelectorAll(".heart");for(const t of e)t.addEventListener("click",addFavorite)}function addFavorite(e){const t=e.currentTarget.parentElement;t.classList.contains("favorite")?(t.classList.remove("favorite"),removeFavoriteLS(t.id)):(t.classList.add("favorite"),addFavoriteLS(t.id))}function addFavoriteLS(e){const t="keyfavorites";listFavorites.push(parseInt(e)),console.log(listFavorites),localStorage.setItem(t,JSON.stringify(e));let s=JSON.parse(localStorage.getItem(t))||[];localStorage.setItem(t,s)}function removeFavoriteLS(e){localStorage.removeItem("keyfavorites",e)}button.addEventListener("click",handleButton);